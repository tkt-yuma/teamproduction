<!--カート画面-->
<!--修正1/15-->

<!--修正1/20-->
<!--メニューリストからページに移動-->
<!--購入確認ページへ-->

<!--本の画像、タイトル、値段-->
<!--トップへ移動-->

<!DOCTYPE html>
<html lang="ja">

<head>
	<link rel="stylesheet" type="text/css" th:href="@{/css/cart.css}">
	<meta charset="UTF-8">
	<title>カート</title>
</head>

<body>
	<header class="header">
		<div class="menu-container">
			<img src="https://konpure.com/wp-content/uploads/2019/04/humberger01.png" alt="メニュー" class="img header-img"
				id="menuToggle">
		</div>
		<div class="book-container">
			<a th:href="@{/user/userpublic/product}" class="book">Book Super Market</a>
		</div>
		<nav class="menu-list" id="menuList">
			<!--閉じるボタンを追加-->
									<div class="close-btn" id="close-btn">
										<span></span>
										<span></span>
									</div>
			<ul>
				<li><a href="mypage.html">マイページ</a></li>
				<li><a href="history.html">履歴</a></li>
				<li><a href="wishlist.html">ほしいものリスト</a></li>
				<li><a href="amend.html">登録情報の変更・修正</a></li>
				<li><a href="cart.html">カート</a></li>
				<li><a href="logout.html">ログアウト</a></li>
			</ul>
		</nav>
	</header>
	<h1>カート</h1>
<!--				<table border="1">-->
<!--					<thead>-->
<!--						<tr>-->
<!--							<th>Image</th>-->
<!--							<th>ItemName</th>-->
<!--							<th>quantity</th>-->

<!--						</tr>-->
<!--					</thead>-->

<!--					<tbody>-->
<!--					    <tr th:each="list : ${cartItems}">-->
<!--					        <td>-->
<!--								<td th:text="${list.itemIdDetails}"></td>-->
<!--					            <img th:src="@{/images/user/book/{filename}(filename=${list.itemIdDetails.imageaddress})}" alt="Item Image" width="100" height="100" />-->
<!--					        </td>-->
<!--					        <td th:text="${list.itemName}"></td>-->
<!--					        <td th:text="${list.quantity}"></td>-->
<!--					    </tr>-->
<!--					</tbody>-->

<!--					</table>-->
	<tbody>
<!--	<div class="book-item">-->
<!--		<div class="book-header">-->
<!--			<label for="bookCheckbox" class="checkbox-label"></label>					-->
			<div th:each="item : ${cartItems}">
				<input type="hidden" th:value="${item.itemId}" name="id"class="img"/>
				<!--画像を表示する処理-->
				<img th:src="@{/images/user/book/{filename}(filename=${item.itemIdDetails.imageaddress})}" alt="本の表紙"class="book-image">
<!--				<div class="book-info">-->
				<!--商品名と値段を表示する処理-->
					<h2 class="book-title"><td  th:text="${item.itemName}"></td></h2>
					<div class="book-subtotal"th:text="${item.itemIdDetails.itemSaleprice}+円">	</div>
					</div>
					</tbody>
<!--					<div class="book-quantity">-->
<!--						<div class="quantity-container">-->
<!--							<div class="quantity-buttons">-->
<!--								<button class="quantity-btn quantity-up">▲</button>-->
<!--								<button class="quantity-btn quantity-down">▼</button>-->
<!--							</div>-->
<!--							<div class="quantity-display">-->
<!--								<span id="quantity-value">1</span>-->
<!--							</div>-->
		
<!--							<span class="quantity-unit">個</span>-->
<!--						</div>-->
						
<!--					</div>-->
<!--				</div>-->

		
<!--		</div>-->
<!--	</div>-->

<!--	<div class="book-item">-->
<!--		<div class="book-header">-->
<!--			<label for="bookCheckbox2" class="checkbox-label"></label>-->
<!--			<img src="https://th.bing.com/th/id/OIP.Xi6nAT_M0Hr-UyDqNh_taAHaIw?w=170&h=201&c=7&r=0&o=5&dpr=1.3&pid=1.7"-->
<!--				alt="本の画像" class="book-image">-->
<!--			<div class="book-info">-->
<!--				<h2 class="book-title">銀河鉄道の夜</h2>-->
<!--				<div class="book-quantity">-->
<!--					<div class="quantity-container">-->
<!--						<div class="quantity-buttons">-->
<!--							<button class="quantity-btn quantity-up">▲</button>-->
<!--							<button class="quantity-btn quantity-down">▼</button>-->
<!--						</div>-->
<!--						<div class="quantity-display">-->
<!--							<span id="quantity-value2">1</span>-->
<!--						</div>-->
<!--						<span class="quantity-unit">個</span>-->
<!--					</div>-->
<!--				</div>-->
<!--			</div>-->
<!--			<div class="book-subtotal">小計 ￥600円</div>-->
<!--		</div>-->
<!--	</div>-->

<!--	<div class="total-container">-->
<!--		<p class="total-price">合計: ￥1,100円</p>-->
<!--	</div>-->

	<div class="purchase-container">
		<a href="ordercheck.html" class="purchase-button">購入</a>
	</div>






	<!--メニューリスト-->
	
	<script>
					document.addEventListener('DOMContentLoaded', function () {
						const menuToggle = document.getElementById('menuToggle');
						const menuList = document.getElementById('menuList');
						const closeBtn = document.getElementById("close-btn");

						menuToggle.addEventListener('click', function () {
							menuList.classList.toggle('show');
							menuToggle.style.display = "none";
						});

						closeBtn.addEventListener('click', () => {
							menuList.classList.remove('show');
							menuToggle.style.display = "block";
						});
					});
				</script>
	
<!--	<script>-->
<!--		document.addEventListener('DOMContentLoaded', function () {-->
<!--			const menuToggle = document.getElementById('menuToggle');-->
<!--			const menuList = document.getElementById('menuList');-->

<!--			menuToggle.addEventListener('click', function () {-->
<!--				menuList.classList.toggle('show');-->
<!--			});-->
<!--		});-->
<!--	</script>-->

	<!--チェックボックス、本の画像、タイトル、数量変更ボタン、
		個数表示、そして小計が適切に配置され、数量の変更に応じて小計が更新-->

<!--	<script>-->
<!--		document.addEventListener('DOMContentLoaded', function () {-->
<!--			const quantityValue = document.getElementById('quantity-value');-->
<!--			const upButton = document.querySelector('.quantity-up');-->
<!--			const downButton = document.querySelector('.quantity-down');-->
<!--			let quantity = 1;-->

<!--			upButton.addEventListener('click', function () {-->
<!--				if (quantity < 99) {-->
<!--					quantity++;-->
<!--					quantityValue.textContent = quantity;-->
<!--				}-->
<!--			});-->

<!--			downButton.addEventListener('click', function () {-->
<!--				if (quantity > 1) {-->
<!--					quantity--;-->
<!--					quantityValue.textContent = quantity;-->
<!--				}-->
<!--			});-->
<!--		});-->


<!--	</script>-->

	<!--数量ボタン-->
<!--	<script>-->
<!--		document.addEventListener('DOMContentLoaded', function () {-->
<!--			const quantityValue = document.getElementById('quantity-value');-->
<!--			const upButton = document.querySelector('.quantity-up');-->
<!--			const downButton = document.querySelector('.quantity-down');-->
<!--			const subtotal = document.querySelector('.book-subtotal');-->
<!--			let quantity = 1;-->
<!--			const price = 500;-->

<!--			function updateQuantity(newQuantity) {-->
<!--				quantity = newQuantity;-->
<!--				quantityValue.textContent = quantity;-->
<!--				subtotal.textContent = `小計 ￥${quantity * price}円`;-->
<!--			}-->

<!--			upButton.addEventListener('click', function () {-->
<!--				if (quantity < 99) {-->
<!--					updateQuantity(quantity + 1);-->
<!--				}-->
<!--			});-->

<!--			downButton.addEventListener('click', function () {-->
<!--				if (quantity > 1) {-->
<!--					updateQuantity(quantity - 1);-->
<!--				}-->
<!--			});-->
<!--		});-->
<!--	</script>-->

<!--	<script>-->
<!--		document.addEventListener('DOMContentLoaded', function () {-->
<!--			const checkbox = document.querySelector('.checkbox-label');-->
<!--			let isChecked = false;-->

<!--			checkbox.addEventListener('click', function () {-->
<!--				isChecked = !isChecked;-->
<!--				if (isChecked) {-->
<!--					checkbox.classList.add('checked');-->
<!--				} else {-->
<!--					checkbox.classList.remove('checked');-->
<!--				}-->
<!--			});-->
<!--		});-->
<!--	</script>-->


<!--	<script>-->
<!--		document.addEventListener('DOMContentLoaded', function () {-->
<!--			const bookItems = document.querySelectorAll('.book-item');-->
<!--			let total = 0;-->

<!--			bookItems.forEach((item, index) => {-->
<!--				const quantityValue = item.querySelector(`#quantity-value${index === 0 ? '' : (index + 1)}`);-->
<!--				const upButton = item.querySelector('.quantity-up');-->
<!--				const downButton = item.querySelector('.quantity-down');-->
<!--				const subtotal = item.querySelector('.book-subtotal');-->
<!--				let quantity = 1;-->
<!--				const price = index === 0 ? 500 : 600;-->

<!--				function updateQuantity(newQuantity) {-->
<!--					quantity = newQuantity;-->
<!--					quantityValue.textContent = quantity;-->
<!--					subtotal.textContent = `小計 ￥${quantity * price}円`;-->
<!--					updateTotal();-->
<!--				}-->

<!--				upButton.addEventListener('click', function () {-->
<!--					if (quantity < 99) {-->
<!--						updateQuantity(quantity + 1);-->
<!--					}-->
<!--				});-->

<!--				downButton.addEventListener('click', function () {-->
<!--					if (quantity > 1) {-->
<!--						updateQuantity(quantity - 1);-->
<!--					}-->
<!--				});-->

<!--				// チェックボックスの動作-->
<!--				const checkbox = item.querySelector('.checkbox-label');-->
<!--				let isChecked = false;-->

<!--				checkbox.addEventListener('click', function () {-->
<!--					isChecked = !isChecked;-->
<!--					if (isChecked) {-->
<!--						checkbox.classList.add('checked');-->
<!--					} else {-->
<!--						checkbox.classList.remove('checked');-->
<!--					}-->
<!--				});-->
<!--			});-->

<!--			function updateTotal() {-->
<!--				total = 0;-->
<!--				bookItems.forEach((item) => {-->
<!--					const subtotalText = item.querySelector('.book-subtotal').textContent;-->
<!--					const subtotalValue = parseInt(subtotalText.replace(/[^0-9]/g, ''));-->
<!--					total += subtotalValue;-->
<!--				});-->
<!--				document.querySelector('.total-price').textContent = `合計: ￥${total}円`;-->
<!--			}-->

<!--			updateTotal();-->
<!--		});-->

<!--	</script>-->


</body>

</html>